================================================================================
             KAKEBO AI - HANDOFF PARA GEMINI
             Fecha: 7 de Febrero de 2026 (Madrugada)
             De: Claude Code (Sonnet 4.5)
             Para: Gemini
             Estado: DISE√ëO WABI-SABI APLICADO A TODA LA APP
================================================================================

RESUMEN EJECUTIVO:
------------------
Claude Code complet√≥ el redise√±o COMPLETO de la app con est√©tica japonesa
minimalista Wabi-Sabi. Se eliminaron todos los gradientes coloridos y se
aplic√≥ una paleta stone neutral con bordes rectos y tipograf√≠a elegante.

Backend SaaS est√° 100% funcional (no tocar). Tu trabajo es continuar con
mejoras de UX/navegaci√≥n.

================================================================================

‚úÖ LO QUE EST√Å HECHO - NO MODIFICAR ESTRUCTURA:
----------------------------------------------

1. BACKEND SAAS (Antigravity) - FUNCIONAL 100%:
   - Stripe integrado (`/api/stripe/checkout`, `/api/stripe/portal`, `/api/webhooks/stripe`)
   - Base de datos con `profiles` (tier, trial_ends_at, stripe_id)
   - Control de acceso: `src/lib/auth/access-control.ts` ‚Üí canUseAI(user)
   - Guards: `src/components/saas/SubscriptionGuard.tsx`, `TrialBanner.tsx`
   - Modelo "Card Upfront": Registro gratis, trial requiere tarjeta (0‚Ç¨ por 15 d√≠as)

2. DISE√ëO WABI-SABI (Claude Code) - APLICADO 100%:

   A) DASHBOARD (/app):
      - `src/app/app/page.tsx`: Header con t√≠tulo serif, espaciado generoso
      - `src/components/MonthSelector.tsx`: Bordes stone-200, botones rectangulares
      - `src/components/DashboardMoneyPanel.tsx`: Cards stone-50/white, labels biling√ºes
      - `src/components/ExpenseCalendar.tsx`: Dise√±o sobrio con stone palette
      - Paleta: stone-50 (fondo), stone-900 (texto), stone-200 (bordes)

   B) LANDING PAGE (/):
      - `src/components/landing/Hero.tsx`: Hero minimalista con stats card
      - `src/components/landing/Navbar.tsx`: Logo "K", nav limpia
      - `src/components/landing/PricingSection.tsx`: **Card Upfront warning CLARO**
      - `src/components/landing/Features.tsx`: Cards rectangulares
      - `src/components/landing/FAQ.tsx`: Acorde√≥n limpio
      - `src/components/landing/Footer.tsx`: 4 columnas estructuradas
      - TODO EN ESPA√ëOL (sin japon√©s como pidi√≥ el usuario)

   C) LOGIN/AUTH (/login):
      - `src/app/login/page.tsx`: **Split screen elegante**
      - Panel izquierdo (desktop): stone-900 con info de marca
      - Panel derecho: stone-50 con formulario
      - Google OAuth + Email/Password
      - Totalmente responsive

   D) ESTILOS GLOBALES:
      - `src/app/globals.css`: Paleta stone actualizada en CSS variables
      - `src/app/layout.tsx`: Body con bg-stone-50, text-stone-900

================================================================================

PRINCIPIOS DE DISE√ëO WABI-SABI APLICADOS:
-----------------------------------------

üìê GEOMETR√çA:
   - Bordes rectos o sutiles (rounded-none, rounded-sm)
   - NO rounded-xl ni rounded-2xl
   - Pensar en "papel de arroz", "madera cortada"

üé® PALETA DE COLORES:
   - Fondo: stone-50 (#fafaf9)
   - Texto: stone-900 (#1c1917)
   - Bordes: stone-200 (#e7e5e4), stone-300
   - Acento: red-700 (#b91c1c) - SOLO para advertencias
   - Cards: white (#ffffff) o stone-50
   - Hover: stone-900 (bordes)

‚úçÔ∏è TIPOGRAF√çA:
   - Serif (font-serif): Para t√≠tulos y headings
   - Sans-serif: Para UI general
   - Mono (font-mono): Para n√∫meros, datos, inputs
   - Weights: font-light, font-normal (evitar bold excesivo)

üñºÔ∏è UI COMPONENTS:
   - Bordes finos: border border-stone-200
   - Sin sombras pesadas: shadow-none o shadow-sm m√°ximo
   - Botones rectangulares: sin rounded, hover con border-stone-900
   - Inputs: border-stone-300, focus:border-stone-900
   - Mucho espacio en blanco (Ma - Èñì): py-8, py-12, space-y-8

================================================================================

ESTRUCTURA DE ARCHIVOS CLAVE:
-----------------------------

/src
  /app
    /app                          # Dashboard protegido
      page.tsx                    # Dashboard principal ‚úÖ WABI-SABI
      /agent                      # Chat IA (protegido por Guard)
      /settings                   # Configuraci√≥n usuario
    /(public)
      page.tsx                    # Landing ‚úÖ WABI-SABI
    /login
      page.tsx                    # Auth split screen ‚úÖ WABI-SABI
    /api
      /stripe                     # Stripe endpoints ‚ö†Ô∏è NO TOCAR
    globals.css                   # Estilos globales ‚úÖ STONE PALETTE
    layout.tsx                    # Layout ra√≠z ‚úÖ BG STONE-50

  /components
    /landing                      # Landing components ‚úÖ TODOS WABI-SABI
      Hero.tsx
      Navbar.tsx
      PricingSection.tsx
      Features.tsx
      FAQ.tsx
      Footer.tsx
      index.tsx
    /saas                         # SaaS components ‚ö†Ô∏è NO TOCAR L√ìGICA
      SubscriptionGuard.tsx
      TrialBanner.tsx
    DashboardMoneyPanel.tsx       # ‚úÖ WABI-SABI
    ExpenseCalendar.tsx           # ‚úÖ WABI-SABI
    MonthSelector.tsx             # ‚úÖ WABI-SABI
    TopNav.tsx                    # ‚ö†Ô∏è NECESITA REDISE√ëO WABI-SABI
    UserMenu.tsx                  # ‚ö†Ô∏è NECESITA REDISE√ëO WABI-SABI

  /lib
    /stripe
      server.ts                   # ‚ö†Ô∏è NO TOCAR
    /auth
      access-control.ts           # ‚ö†Ô∏è NO TOCAR

================================================================================

üéØ TU MISI√ìN (GEMINI) - FASE 2.6.3 & 2.6.4:
------------------------------------------

PRIORIDAD 1: MEJORAS DE NAVEGACI√ìN UX (Dashboard)

1. **TopNav / UserMenu Wabi-Sabi**:
   - Redise√±ar `src/components/TopNav.tsx` con est√©tica stone
   - A√±adir bot√≥n de "Logout" claro y visible
   - A√±adir link a "Billing Portal" (`/api/stripe/portal`) para gestionar suscripci√≥n
   - Logo coherente con landing (cuadrado stone-900 con "K" serif)
   - Dropdown menu sobrio (no glassmorphism, bordes stone-200)

2. **UserMenu Component**:
   - Redise√±ar `src/components/UserMenu.tsx` con Wabi-Sabi
   - Opciones: Perfil, Ajustes, Billing Portal, Logout
   - Iconos minimalistas (strokeWidth={1.5})
   - Hover states con border-stone-900

3. **Breadcrumbs / Back Navigation**:
   - A√±adir navegaci√≥n clara entre secciones del dashboard
   - Link "‚Üê Volver al dashboard" en p√°ginas internas
   - Coherente con est√©tica Wabi-Sabi

PRIORIDAD 2: PRICING PAGE DEDICADA (Opcional)

4. **P√°gina /pricing standalone**:
   - Crear `src/app/(public)/pricing/page.tsx`
   - Comparativa exhaustiva Free vs Pro
   - Tabla de features detallada
   - FAQs espec√≠ficos de pricing
   - CTA clara al login
   - Mantener advertencia "Card Upfront" prominente

================================================================================

‚ö†Ô∏è REGLAS IMPORTANTES:
----------------------

1. **NO MODIFICAR BACKEND**:
   - NO toques nada en `/api/stripe`
   - NO toques `access-control.ts` ni guards
   - Solo trabaja en UI/UX visual

2. **MANTENER EST√âTICA WABI-SABI**:
   - Paleta stone SIEMPRE
   - Bordes rectos (rounded-none)
   - Tipograf√≠a serif para t√≠tulos
   - Sin gradientes coloridos
   - Sin sombras pesadas
   - Mucho espacio en blanco

3. **IDIOMA**:
   - TODO en espa√±ol
   - NO usar kanji/japon√©s (el usuario lo pidi√≥ expl√≠citamente)

4. **MODELO "CARD UPFRONT"**:
   - Mantener advertencia CLARA sobre trial con tarjeta
   - "Se requiere tarjeta pero 0‚Ç¨ por 15 d√≠as"
   - Siempre visible en pricing

5. **BUILD**:
   - Ejecuta `npm run build` antes de commitear
   - Aseg√∫rate de que todo compila sin errores

================================================================================

COMANDOS √öTILES:
---------------

```bash
npm run dev              # Dev server (puerto 3000 o 3001)
npm run build            # Build producci√≥n (verifica tipos)
git status               # Ver cambios
git add [archivos]       # Stage cambios
git commit -m "..."      # Commit con mensaje
git push origin main     # Push a GitHub
```

================================================================================

ARCHIVOS DE REFERENCIA:
-----------------------

- `DISE√ëO_ZEN_BRIEF.txt`: Brief original del dise√±o Wabi-Sabi
- `DISE√ëO_ZEN_APLICADO.txt`: Resumen detallado de cambios aplicados
- Este archivo: `HANDOFF_PARA_GEMINI_7_FEB.txt`

================================================================================

ESTADO DEL BUILD:
-----------------

‚úÖ Build pasando correctamente
‚úÖ TypeScript sin errores
‚úÖ Todos los componentes funcionan
‚úÖ GitHub actualizado: commit ca2c694

Repository: https://github.com/mrsteppenwolf627/kakebo.git
Branch: main

================================================================================

√öLTIMOS COMMITS (para contexto):
--------------------------------

ca2c694 - feat: redesign login page with Wabi-Sabi split screen
c24fbf5 - refactor: apply Wabi-Sabi aesthetic to landing page
e1d9a07 - refactor: implement Wabi-Sabi/Zen aesthetic for dashboard

================================================================================

PR√ìXIMOS PASOS SUGERIDOS:
-------------------------

1. Leer este documento completo
2. Revisar `DISE√ëO_ZEN_BRIEF.txt` y `DISE√ëO_ZEN_APLICADO.txt`
3. Explorar los componentes ya redise√±ados para entender el estilo
4. Empezar por TopNav.tsx y UserMenu.tsx (prioridad alta)
5. Mantener coherencia visual con lo ya hecho
6. Commit peque√±os y descriptivos
7. Build antes de cada commit

================================================================================

NOTAS FINALES:
-------------

- El usuario est√° satisfecho con el dise√±o Wabi-Sabi
- La base visual est√° s√≥lida, ahora es pulir UX/navegaci√≥n
- Mant√©n la sobriedad y elegancia en todo momento
- Ante dudas, consulta los componentes ya hechos como referencia

¬°Buena suerte, Gemini! La app se ve hermosa, solo falta pulir la navegaci√≥n.

- Claude Code (Sonnet 4.5)
  7 de Febrero de 2026, 1:30 AM
